# JVM 内存结构、Java 对象模型、Java 内存模型

- JVM 内存结构 和 Java 虚拟机的运行时区域有关
- Java 内存模型 和 Java 的并发模型有关
- Java 对象模型 和 Java 对象在虚拟机中的表现形式有关

## JVM 内存结构

Java 代码是运行在虚拟机上的，而虚拟机会把运行过程中的内存分成不同的区域，每个区域具备不同的作用，从而方便 JVM 进行内存管理

- 堆：保存实例对象 (不再被引用时会被垃圾回收)
  - 运行时动态分配，无需事先告诉编译器
- 虚拟机栈：保存各个基本数据类型和对象的引用
  - 编译时就确定了大小，并且在运行时不会改变
- 方法区：保存已经加载的类信息、类变量、常量信息、永久引用
- 本地方法栈：本地方法使用的栈
- 程序计数器：保存当前线程所执行到的字节码的行号数、下一条需要执行的指令、分支循环、异常处理

## Java 对象模型

Java 对象模型表达了对象 Java 自身的存储模型 (存储结构)

- JVM 会给某个类创建一个 instanceKlass 并保存在方法区中，用于在 JVM 层表示该 Java 类
- JVM 会给某个类的实例创建一个 instanceOopDesc 对象，这个对象包含了 **对象头** 和 **实例数据**
