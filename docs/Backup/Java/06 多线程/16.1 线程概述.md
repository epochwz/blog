# 16.1 线程概述
操作系统支持同时运行多个任务，一个任务就是一个程序，每个运行中的程序是一个进程

一个程序运行时，内部可能包含多个顺序执行流，每个顺序执行流是一个线程。

## 16.1.1 线程和进程
- 进程三个特征：
    - 独立性：具有一定的独立功能，是系统进行资源分配和调度的一个独立单位，拥有自己独立的资源，私有的地址空间。在没有进程本身允许的情况下，一个用户进程不可以直接访问其他进程的地址空间。
    - 动态性：程序只是一个静态的指令集合，而进程是一个正在系统中活动的指令集合。进程中加入了时间概念，进程具有自己的生命周期和各种不同的状态。
    - 并发性：多个进程可以在单个处理器并发执行，多个进程之间不会互相影响。
- 并发性和并行性的区别：
    - 并发性：在同一时刻只能有一条指令执行，但多个进程指令快速轮换执行，宏观上具有多个进程同时执行的效果
    - 并行性：指在同一时刻，有多条指令在多个处理器上同时执行。
- 线程扩展了多进程的概念，使同一个进程可以同时并发处理多个任务，被称为轻量级进程，是进程的执行单元。
- 线程在程序中是独立、并发的执行流。当进程被初始化后，主线程就被创建了。绝大多数应用程序只要求一个主线程，但也可以在该进程内创建多个顺序执行流，即线程，每个线程相互独立
- 线程是进程的组成部分，一个进程可以拥有多个线程，一个线程必须有一个父进程。
- 线程可以拥有自己的堆栈，程序计数器和局部变量，但不拥有系统资源，与父进程的其他线程共享该进程拥有的全部资源。
- 线程是独立运行的，其执行是抢占式的，即当前运行的线程在任何时候都可能被挂起以便另外一个线程运行。
- 一个线程可以创建和撤销另一个线程，同个进程的多个线程之间可以并发执行。
- 多线程的调度和管理由进程本身负责完成，操作系统无须将其看成多个独立的应用。
- 总结：操作系统可以同时执行多个任务--进程；进程可以同时执行多个任务--线程。