## 13.4.1 可滚动、可更新的结果集
可滚动的结果集:能够自由移动记录指针的ResultSet

可更新的结果集必须满足条件：
1. 在创建Statement/PreparedStatment时传入额外的参数
    1. resultSetType[控制ResultSet的类型]
        ```java
        ResultSet.TYPE_FORWARD_ONLY:该常量控制指针记录只能向前移动，JDK1.4之前的默认值
        ResultSet.TYPE_SCROLL_INSENSITIVE:记录指针可以自由移动，但底层数据的改变不影响ResultSet的内容
        ResultSet.TYPE_SCROLL_SENSITIVE:记录指针可以自由移动，且底层数据的改变会影响ResultSet的内容。
        ```
    2. resultSetConcurrency[控制ResultSet的并发类型]
        ```java
        ResultSet.CONCUR_READ_ONLY:只读的并发模式，默认参数
        ResultSet.CONCUR_UPDATABLE:可更新的并发模式
        ```
2. 所有数据来自一个表
3. 选出的数据集必须包含主键列

默认方式打开的结果集默认可滚动，不可更新。

创建可滚动、可更新的结果集的步骤:
1. 创建一个PreparedStatement对象,传入控制结果集可滚动，可更新的参数`PreparedStatement pstmt =conn.prepareStatement(sql, ResultSet.TYPE_SCROLL_INSENSITIVE, ResultSet.CONCUR_UPDATABLE);`
2. 获取结果集`ResultSet rs = pstmt.executeQuery()`
3. 修改当前记录指定列的值`rs.updateXxx(int columnIndex , Xxx newValue);`
4. 提交修改`rs.updateRow();`

## 13.4.2 处理Blob类型数据
ResultSet的getString()可以获取blob之外的几乎所有类型的值[所有数据类型都可以自动转换成字符串]

Blob：Binary Long Object,二进制长对象。通常用于以二进制形式存储大文件[图片、音频、视频]

存储二进制数据到数据库Blob列的步骤:
1. 获取二进制流
2. 创建PreparedStatement对象，预编译SQL语句
3. 为预编译的SQL语句的指定参数传入二进制流`pstmt.setBinaryStream(int index,InputStream x)`
4. 执行SQL语句`pstmt.executeUpdate();`，将二进制流以Blob类型保存到数据库

从数据库中读取Blob类型的列数据的步骤:
1. 获取ResultSet
2. 通过ResultSet获取当前记录指定列的Blob对象`Blob b=rs.getBlob(int index)`
3. 获取该Blob对象的二进制输入流`b.getBinaryStream();`||获取该Blob对象封装的二进制数据`b.getBytes();`
4. 操作得到的二进制数据/二进制输入流

能够存储二进制数据的Blob列示例:
```
create table test_img(
id int auto_increment primary key,
img mediumblob
)
```