# 开发环境的搭建

## 架构设计
- 前后端完全分离：全站使用 REST API 接口 进行数据交互，减少前后端耦合
- 分层架构：将系统划分成 逻辑层、数据层、工具层，通过层级划分来进行系统解耦，提高系统可扩展性和可维护性
- 模块化：进一步解耦，让系统通过组件的拼装来完成业务的实现，支持团队并行开发，提高团队开发效率

## 技术选型
- html
- css
- js
- jquery
- webpack:基于Commonjs方式的模块化打包集成
- Nodejs & npm :webpack 依赖
    
    **Nodejs**
    - 定义：JS的服务端运行环境
    - 用途：构建工具Webpack的环境依赖
    - 特点：单线程、异步编程
    - 应用场景：低运算、高I/O

    **NPM: Nodejs的包管理器**
- shell:自动化发布工具
- 编辑器：VS Code
- 浏览器：Chrome
- 代理工具(请求劫持)： Fiddler/Charles
- 前端代码构建工具：Webpack -> Nodejs v6.12.3
- 版本控制：Git

项目预览：`http://www.happymmall.com/index.html`
## 课程安排
1. 基础框架的搭建
    - 双平台的开发环境安装
    - git仓库的规范化用法
    - webpack脚手架的搭建实战
2. 通用模块
    - 可高复用工具类的设计与封装
    - 通用模块设计与独立打包方法
    - 高逼格UI开发经验与技巧
3. 用户模块
    - 数据安全性处理方案
    - 表单同步/异步验证
    - 小型SPA开发
4. 商品模块
    - jQuery插件模块化改造
    - 独立组件抽离技巧
    - 多功能列表开发
5. 购物车模块
    - 商品状态随时验证方案
    - 模块内部方法调用方式
    - 非Form提交时的数据验证
6. 订单模块
    - Modal式组件封装思想
    - 城市级联操作
    - 复杂表单回填
7. 支付模块
    - 支付宝支付功能对接
    - 支付状态动态检测
    - 支付成功回执处理
8. 管理后台
    - 单页应用
    - 管理后台实现思路
    - React框架及其组件化
    - React-Router的使用
9. 访问数据分析
    - PV/PU
    - 流量来源监控
    - 用户特征分析
10. SEO优化
    - SEO原理
    - 关键词的设计
    - SEO监控
11. 线上部署
    - 线上服务器环境搭建
    - 自动化发布脚本编写
    - 域名规划与Nginx配置
12. 可用性监控
    - 外部监控原理
    - 第三方监控设置
    - 更高级的监控方式

## 需求分析

1. 用户
    - 账号体系
    - 会员体系
    - 用户行为分析
    - 等级体系
    - 用户信息
    - 地址
2. 购买
    - 商品展示
    - 购物车
    - 下单
    - 支付
    - 订单中心
3. 运营
    - 用户管理
    - 订单管理
    - 商品管理
    - 财务管理
    - 客服系统
    - 推荐系统
    - 广告系统
4. 市场
    - 优惠折扣
    - SEM
    - 代理
    - 推广
    - SEO
5. 统计
    - 成单率
    - 成交量
    - 用户增长
    - 推广效果
    - 转化率
    - 访问情况

## 需求拆分原则
- 单个迭代不宜太大
- 需求可交付，能够形成功能闭环
- 控制成本的意识，20%的精力做805有价值的事
- 有预期的价值体现

## 提炼核心需求

1. 用户端
    - 展示
    - 购物车
    - 下单
    - 支付
    - 订单
    - 用户
2. 后台管理
    - 商品管理
    - 品类管理
    - 订单管理
    - 管理员登录


## 架构设计

分层架构和模块化(CommonJS)相结合
分层架构
- 定义：把功能相似，抽象级别相近的实现进行分层隔离
- 优势：松散耦合（易维护、易复用、易扩展）
- 常见分层方式：MVC、MVVM

模块化
- 定义：解决一个复杂问题时，自顶向下逐层把系统划分成若干个模块的过程
- 优势：解耦、可并行开发
- 模块化方案：AMD/CMD/CommonJS/ES6

1. 逻辑层
    - 主模块
        - 子模块
        - 子模块
2. 数据层 Service
3. 工具层

## 技术选型

1. 软件过程：敏捷开发
    - 定义：以用户的需求进化为核心，采用迭代、循序渐进的方法进行软件开发
    - 优点：能够应对满足不断变化的需求
    - 缺点：对团队成员的能力要求比较高
2. 前后端分离方式
    - 不分离
        - 前后端共用同一项目目录，甚至页面内嵌js/css
        - 本地开发环境搭建成本高
        - 共同维护成本高
        - 发布风险高
    - 部分分离
        - 后端负责页面模板(JSP/Velocity/Freemaker)
        - 本地开发环境搭建成本高
        - 更新页面模板仍需后端协助，效率不够高
        - 需要前后端同时发布
    - 完全分离1
        - velocity: 发布时同步到后端
        - 完全分离，直接生成动态模板，利于SEO
    - 完全分离2
        - 纯静态html,完全通过接口做数据交互
        - 完全脱离后端模板，系统复杂度低
        - 不利于SEO
        - 优化：使用ServerRender/蜘蛛定制页面
3. 构建工具
    - Grunt
    - Gulp
    - Webpack
4. 框架
    - 脚本：jQuery/Angular/Avalon/Vue/React
    - 样式：CSS/Less/Sass
    - 用户端（jQuery/CSS）
        - 稳定性要求高
        - 用户类型多样
        - 要求SEO，多页应用
    - 管理系统(React/Sass)
        - 求快
        - 用户类型单一
        - 无SEO要求
5. 版本控制
    - svn
    - git
6. 发布方式

    拉取待发布代码->编译打包->发布到线上机器

    域名规划
    - html: www./admin.
    - js: s.
    - image: img.