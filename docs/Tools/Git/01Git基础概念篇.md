---
date: 2017-12-03T15:36:35.000Z
title: Git(壹)|基础概念篇
tags:
  - Tools
  - Git
categories:
  - Tools
  - Git
---

> 本文状态：正在更新
>
> 最近在折腾博客的部署的时候，频繁的用到了 Git ,然后才发现自己虽然一直都"会用"，但是用到很粗糙。似乎更多的将他当成了备份工具，弱化了版本控制的概念。于是这几天趁热看了一些教程，整理出这几篇 Git 系列的文章，权当加深自己的理解和熟练度。

_**温馨提示**_

要学好一项技术或者工具，最好的办法是了解这个工具诞生的原因，以及演变进化的过程

因此作为 Git 系列的第一篇，本文更关注的是讲清楚 _**版本控制**_  的一些相关概念。我希望看完这篇文章后，小伙伴们能够真正理解什么是版本控制，以及为什么要使用 Git 。

当然，如果你想快速的上手 Git ，这里为你准备了一些十分优秀的教程

* 如果你想系统的学习 Git ,请参考 [**廖雪峰的Git教程**](https://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000)
* 如果你想更深刻的理解 Git ,请参考 [**图解 Git**](http://marklodato.github.io/visual-git-guide/index-zh-cn.html#detached)
* 如果你想系统而全面的学习 Git ,请参考 [**Git 官方文档**](https://git-scm.com/book/zh/v2)
* 如果...你真是够了哦，我反手就是一个 [**Git 官网**](https://git-scm.com)

如果你还想看这篇粗陋的文章，那么，我们就开始来看看和 Git 相关的一些概念和历史吧！

### 备份和版本控制

**备份是什么，为什么要备份？**

> **备份\(Backup\): **指将文件系统或数据库系统中的数据加以复制；一旦发生灾难或错误操作时，得以方便而及时地恢复系统的有效数据和正常运作。

有一天，你写了一段精妙绝伦的代码，怕丢失了，所以拷贝到硬盘/U盘里，这叫**本地备份**；你还怕硬盘挂了，U盘丢了，就把他同步到云盘里，这叫**远程备份。**

**备份就行了，为什么还要版本控制？版本控制是什么？**

> **版本控制\(Version Control\): **记录项目中一个或若干文件的内容变化，以便将来查阅/恢复到项目的特定版本

备份后，你理所当然的觉得万无一失了。有一天你鬼迷心窍的打算优化它，改完一激动，就把它同步到了云盘。这时候，一测试，握草，什么辣鸡玩意，电脑炸了。还好云盘有代码，可是下载后，你发现，这就是那份能炸电脑的代码，而那份精妙绝伦的代码已经被覆盖了。你后悔莫及，要是云盘在 _同步文件的同时能保存文件的历史版本_ 就好了，这就是**版本控制**

_**总结：**_**备份**是存储文件当前最新版本的副本，**版本控制**是存储文件的若干历史版本；版本控制通常与备份结合使用

### 版本控制系统

> **版本控制系统\(Version Control System\): ** 专门用于 _对文件进行版本控制 _的系统\(软件\)

---

### Git

现在，你已经知道了为什么要版本控制以及版本控制是什么了，那么就来看看我们的主角 Git 吧。

**Git 是什么呢？**

> Git是世界上最快、最简单、最流行的、免费的、开源的**分布式**版本控制系统\(什么是分布式？难不成还有集中式，额，是的，后文会介绍\)
>
> Linus Torvalds 用两周时间开发的\(请收下我的膝盖\)，Linux 内核最早作者之一

**Git 是怎么进行版本控制的呢？**

这个问题挺复杂的，我们还是先了解  Git 项目的组成结构吧，使用了 Git 进行版本控制的项目我们通常称为**仓库**\(Repository\)。

本地电脑上的 Repository 称为**本地仓库**；服务器上的 Repository 称为**远程仓库**

它们本质上是没有任何区别的，远程仓库是为了防止你本地仓库炸了而作的备份。当然更重要的是，远程仓库能方便的让你的同事和你一起写这份代码，而不至于产生混乱。这个以后再说，还是先了解如何使用 Git 进行一个人的游戏吧

#### Git Repository 的组成

既然使用了版本控制，那么这个仓库里必然是要比平常的项目多点东西的，多的那部分东西，就是**版本库\(History\)**

**版本库 **存放了一个项目的版本控制信息，简单理解就是项目的许多个历史版本，因此你可以从中恢复到任意一个版本。比如说你那份精妙绝伦的代码。

为了安全起见，项目内容一旦存放到版本库中，通常就是一个完整的有意义的版本了，所以通常我们不会直接操作版本库，只有当搞砸了的时候，我们才会从中取出特定版本。

因此，仓库里必须有我们平常进行工作的地方，那就是**工作目录\(Working Directory\).**

显然，**工作目录**包含了项目的最新版本，以及你正在对它进行的修改。

你灵感突现，写了许多东西，然后才发现其中有一些应该存起来作为一个版本了，一部分还应该继续加工才能作为另一个版本，这可怎么办。因此，Git 还为我们设置了一个 **暂存区\(Stage/Index\)**，你可以将一部分文件添加到暂存区，然后提交作为一个版本，放入版本库，而另一部分仍然在工作目录中处于工作状态。

这就是 Git Repository 的组成。

根据技术的实现方式和不同理念，版本控制系统主要有两类

**集中式版本控制系统\(Centralized VCS\)：** _版本库只存放在服务器上，本地电脑只存放内容库。_比如 SVN,CVS

**分布式版本控制系统\(Distributed VCS\)：** _本地电脑存放版本库和内容库，服务器存放版本库。_比如 Git

###

**Git 和 GitHub 有什么区别和关系？**

Git 是工具软件，GitHub 是普通网站

Git 是一款免费开源的分布式版本控制系统，而 基于 Git 管理的项目仍然需要备份，GitHub 就是这样一个给你备份的服务器，即代码托管平台。

因为 GitHub 提供的服务非常不错且免费，于是吸引了很多程序猿将代码托管到它上面，于是它就不局限于代码托管了，还加了一些其他的功能，成为了全球最大的同性交友平台。

远程服务器事实上是不需要的，其存在仅仅为了方便多人协作时交换各自的修改内容。

**PS：**一上手就是 Git ，还没来得及体验 SVN 等集中式，对此处尚有疑虑

* [ ] 集中式：如果把本地电脑做成服务器，即版本库和内容库在同一台电脑上，此时单人使用情况下应该和分布式无区别。所以联网的说法待考究
* [ ] 因此区别应该是建立在多人协作的基础上来讲才比较明显
* [ ] 不过即使将本地电脑做成服务器的情况，仍然可以理解为需要服务器，从这点上讲，上述定义和以下区别应该没毛病

### ~~集中式 vs 分布式~~

~~我们将 "_保存项目的一个版本_" 这个操作称为"提交\(commit\)"~~

~~我们将 "_把本地内容推送到服务器_" 这个操作称为 "推送\(push\)"~~

~~**集中式版本控制系统（**CVS、SVN**）**~~

* ~~**联网工作：**_本地仓库只存放版本库_，所以每一次想要**commit**，则必须联网**push**~~
* ~~**远程服务器宕机：** 无法进行版本控制\(commit\)~~
* ~~**远程仓库受损：**服务器上的版本库丢失，所有历史版本都消失了，你只剩下电脑上的那个最新版本了~~

~~**分布式版本控制系统（**Git**）**~~

* ~~**脱机工作：** _本地仓库就是完整的项目仓库_，可以不断的**commit**，只有需要与他人合并修改时才需要push到远程仓库~~
* ~~**远程服务器宕机：** 完全可以在本地进行版本控制\(commit\)~~
* ~~**远程仓库受损：** 本地仓库可以找回完整的项目仓库\(内容库+版本库\)~~