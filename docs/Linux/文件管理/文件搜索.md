# 文件搜索

**查询目录中的内容**

```
$ ls [Options] dirName

[Options]
-d    # 查看目录属性

-a    # 显示所有文件，包括隐藏文件
-h    # 人性化显示文件大小
-l    # 显示详细信息
-i    # 显示inode

# 相当于$ ls -lahi
$ ll -ahi
```

**文件搜索命令locate**

```
# 在后台数据库中按文件名搜索文件，速度快
$ locate fileName

# 数据库位置
/var/lib/mlocate/mlocate.db
# 更新数据库
$ updatedb
# 数据库配置文件,配置数据库更新位置的过滤条件
/etc/updatedb.conf
```

**文件搜索命令find**

```
# 在系统中搜索符合条件的文件名，使用通配符进行完全匹配，非常耗费系统资源
$ find [搜索范围] [搜索条件] [文件名]

[搜索条件]
-name fileName    # 按文件名搜索
-iname fileName   # 不区分大小写
-user userName    # 按所有者搜索
-nouser           # 查找没有所有者的文件

# 示例：查找10天前修改的文件
$ find / -mtime +10
    # -num    num天内修改的文件
    # num     num天前当天修改的文件
    # +num    num天前修改的文件
    # -mtime  修改文件内容
    # -atime  文件访问时间
    # -ctime  改变文件属性

# 示例：按文件大小查找
$ find / -size +25k
$ find / -size +25M
-a    逻辑与and
-o    逻辑或or

# 示例：按inode节点查找文件
$ find . -inum xxxxx

# 处理查询结果
-exec [命令] {} \;
# 示例：列出所有大于20k小于50k的文件
$ find . -size +20k -a -size -50k -exec ls -l {} \;
```



